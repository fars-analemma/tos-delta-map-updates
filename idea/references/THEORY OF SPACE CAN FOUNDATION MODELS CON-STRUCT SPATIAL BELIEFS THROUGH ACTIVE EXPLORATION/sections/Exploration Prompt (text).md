Exploration Prompt (text)
You are a spatial reasoner in a 2D, text-only N×M grid. Every object including you is a point at integer (x, y) coordinates. Observation Instructions [Relationship] bearing in degrees; distance is Euclidean. Use binned labels. Bearing is a degree in [-180, 180]; 0° is front. +: clockwise, -: counterclockwise. [Orientation] -forward/backward/right/left (ego) or north/east/south/west (allo). -When agent faces north: forward = north, right = east, etc. -Gate's orientation: report wall position (e.g., 'on left wall'). [Binned relationship reporting] EgoFront (egocentric, object-to-agent); Cardinal (object-to-object). Egocentric angle bins (0° is front): -[-45°,-22.5°)→front-left, -[-22.5°,0°)→front-slight-left, -0°→front, -(0°,22.5°]→front-slight-right, -(22.5°,45°]→front-right, -otherwise→beyond-fov. Cardinal angle bins (45° each): -(-22.5°,22.5]→north, -(22.5°,67.5]→north east, -(67.5°,112.5]→east, -(112.5°,157.5]→south east, -(157.5°,202.5]→south, -(202.5°,247.5]→south west, -(247.5°,292.5]→west, -(292.5°,337.5]→north west, Distance bins: -=0→same distance, -(0,2]→near, (2,4]→mid distance, -(4,8]→slightly far, -(8,16]→far, -(16,32]→very far, -32→extremely far. Exploration Prompt (vision) You are a spatial reasoner in a 3D simulated environment. The world is rendered in 3D but abstracted into a discrete 2D grid of size N×M. Every entity, including yourself, is represented by integer coordinates (x, y) on this grid. Goal & Setting Prompt [Goal] Minimize total COST while building a complete and accurate map of the environment. [Multi-room rules] (may exist multiple rooms): -Your vision is confined to your current room. -Doors block vision between rooms. -Exception: When located in a doorway, door is open and invisible, you can see into both connected rooms. -Rooms connect via doors on vertical (front/back) or horizontal (left/right) walls. Exploration Prompt (vision) Here is an example of your observation: blue cylinder 1 m straight ahead; red cylinder 2 m straight ahead; yellow cylinder 2 m at 45° to your front-left; green cylinder 3 m at 22.5° to your front-slight-right: {image_placeholder} The image shows all objects in the room. Each tile is numbered (1-N) in the top-left, matching the object order in the room layout. For items with a facing direction, two copies are shown side-by-side: the left copy has its front facing the camera; the right copy has its front facing left. Items without a meaningful facing direction are shown once. {image_placeholder} Format & Rules Instructions [Rules] -Achieve complete coverage with the fewest steps; -Prefer actions that reveal more unknowns; avoid redundancy -FOV is 90°, you can NOT see objects outside your FOV. -Track your current and initial pose Action Instructions You can jump to objects within and across rooms, turn, and observe. When you are at a door, you can see objects from both connected rooms (within FOV). Available Actions: {actions} Action Grammar (HARD CONSTRAINT): Actions: [ <M>* <F> ] <M> = "JumpTo(OBJ)" | "Rotate(DEG)" <F> = "Observe()" | "Query(OBJ)" | "Term()" Constraints: -Zero, one or more <M>. No JumpTo at first step. -Exactly one <F>, and it must be the final action. -No more than one Observe(). -Term() may appear only alone. -Any violation is invalid. Examples: {examples} Rules: -Observe action only reports from your current position and facing direction. If you jump multiple times, the final Observe() action gives the view only from your last position. -Actions execute in order. Field of view: {field_of_view}°. Observe and Query action have costs: {costs} Exploration Prompt -False Belief You have returned to the initial position and face north. There are {n_changes} objects in the room that have been changed (position or orientation). Note one object is either moved or rotated, not both. Goal: Explore the room again and identify which objects have been changed and how with minimum costs. Use the same action set as the exploration phase. You must use the Term(changes="...") action to submit your answer and terminate. Format: Term(changes="object1: change_type, object2: change_type") Example: Term(changes="apple: position, chair: orientation") You have a maximum of {max_steps} steps. Figure 10: Exploration prompts Pairwise Direction You return to your starting position and face north. From a Top-Down map, describe where {obj_name} is relative to {anchor_name}. Answer format: <cardinal direction>, <distance> Example: north-west, near Perspective Taking Now you jump to {anchor_name}'s direction, facing its direction. Describe where {obj_name} is relative to you. Answer format: <ego direction>, <distance> Example: front-left, near Perspective Determine Now you jump to an object's position, facing its direction. You observe that {observation}. Which object are you standing at? Answer format: <object_name> Example: lamp Action2View You return to your starting position and face north. You will execute the following action sequence: {actions} After executing the actions, what is the ego relation of {target} relative to you? Answer format: <ego direction>, <distance> Example: front, near View2Action You return to your starting position and face north. Then you have executed an action sequence and changed to a new location and facing direction. You observe the following: {final_obs} What action sequence led to this final view? The action sequence must be valid and only contain move actions. Answer format: <sequence of move actions> Example: JumpTo(lamp), Rotate(90) Allocentric Map Treat your starting position as the origin (0, 0) while facing north. Report allocentric coordinates using (x right/east, y up/north). Objects: {object_list}. Answer format: (x0, y0); (x1, y1); ... in the same order. Example: (1, 0); (-2, 3); (0, -1) Mental Rotation You return to your starting position and face north. You will perform a full 360-degree rotation by continuously turning {turn_direction} in place. Assume all walls are removed (you can see through walls), so every object is visible. Focus on this set of objects: {object_pool}. List them in the exact order they appear directly ahead while you rotate. If two objects share a bearing, place the nearer one first. Answer format: <object_name1>, <object_name2>, ... Example: mug, sofa, plant Location2View {origin_instruction}You move to {loc} and face {direction}. What is the egocentric relation of {target}? Answer format: <direction>, <distance> Example: front, near View2Location Survey Route You move to a new location and face {orientation}. {observations} {origin_instruction}What is your new 2D coordinate (x, y)? Answer format: (x, y) Example: (2, -1) Cognitive Map Prompt -Base [Cognitive Map (JSON)] Represent the scene as a JSON map. [Schema (shared)] -position: [x, y] integers -facing: "north|south|east|west" (global) or "+x|-x|+y|-y" (local/rooms) [General rules (shared)] -Include only observed objects. -MUST include facing key if the object has facing direction. Cognitive Map Prompt -Global [Global Cognitive Map] -Grid: concise global map on an N×M grid. -Frame: origin [0,0] is your initial position; your initial facing direction is north. -Content: include all observed objects and gates; include the agent -Facing: use "north|south|east|west" (cardinal direction only). [Example] { "agent": {"position": [2, 3], "facing": "east"}, "chair": {"position": [2, 4], "facing": "north"}, "sofa": {"position": [5, 1], "facing": "west"} } -Frame: must include "origin":"agent". Always keep in mind that the origin is the agent's current position and orientation.